1|done|Refactor: Extract Task struct to its own module
2|done|Write README with usage examples
3|done|Add better error handling with proper Result types
4|done|Commit .knecht/tasks to git
5|done|Tag v0.1 release
6|done|Write .rules file for agent guidance on architecture and design principles (include instructions to fix cargo warnings)
7|done|Consider adding description field (pain count: 1)
8|open|Switch storytime project from beads to knecht
9|done|Normal task without pipes
10|done|Fix test flakiness with parallel execution (pain count: 1)
11|open|Add command to delete/remove tasks (pain count: 1)
12|done|Decide how to handle beads descriptions in knecht migration [addresses blocker in task-8]
13|done|Decide how to handle beads priorities (0-4) in knecht migration [addresses blocker in task-8]
14|done|Decide how to handle beads issue_types (bug/task/epic/feature/chore) [addresses blocker in task-8]
15|done|Write test for beads2knecht migration tool [addresses blocker in task-8]
16|open|Add README documentation for beads2knecht tool [addresses blocker in task-8]
17|done|Add description field to knecht format (pain count: 2 - blocker for task-8)
18|done|Update beads2knecht to preserve descriptions [addresses blocker in task-17]
19|open|Replace bd instructions with knecht in storytime .rules [addresses blocker in task-8]
20|open|Document how to uninstall/remove beads from storytime [addresses blocker in task-8]
21|open|Document multiple binaries setup in README (default-run in Cargo.toml)
22|open|Consider adding test-data/ directory for example files and test fixtures
23|open|Add test helper functions for common test operations (pain count: 3)|Specific pain: Testing stdin/stdout binaries (beads2knecht) requires verbose boilerplate repeated in every test - spawning process with Stdio::piped, writing to stdin, waiting for output, converting bytes to strings. Need helper like run_command_with_stdin(binary, input) -> TestResult similar to existing run_command().
24|done|Test task -d Description here
25|done|Test with description|This is a detailed description
26|done|Simple task without description
27|open|Add refactoring reflection prompt after task completion (pain count: 2)|When 'knecht done task-N' completes, prompt the agent: 'Did you notice anything missing from knecht's interface during this work? Did you notice anything new that was difficult about working with the codebase while you did this work? Is there anything in the work you just did that we should refactor? Make a list of the refactoring opportunities. Where you can, use named refactors from Martin Fowler's Refactoring, or Michael Feather's Working Effectively with Legacy Code. Check knecht to see if anything similar has already been filed, and if so, increase the pain count on those tasks.'
28|open|Extract Method: CLI argument parsing in cmd_add|Apply 'Extract Method' refactoring (Fowler) to the manual argument parsing logic in cmd_add(). The while loop that parses -d flags is ~20 lines and will become unwieldy as we add more flags. Extract to parse_add_args() returning a struct with title and description fields. (pain count: 1)
29|open|Replace Magic String with Symbolic Constant: pipe delimiter|Apply 'Replace Magic Number/String with Symbolic Constant' (Fowler). The pipe delimiter is hardcoded in multiple places (read_tasks, write_tasks, add_task validation). Extract to const DELIMITER: char to make format changes easier and more discoverable. (pain count: 1)
30|open|Extract Class: TaskSerializer for format parsing/writing|Apply 'Extract Class' (Fowler). The Task struct knows about its file format (split/join on pipes). As format evolves, separate domain model (Task) from serialization concerns. Consider TaskSerializer with parse_line() and format_line() methods. (pain count: 1)
31|open|Restructure to eliminate pipe character validation need|Instead of validating/rejecting pipes, consider structural solutions: (1) Use newtypes (Title, Description) that validate on construction - 'Wrap Primitive' pattern (Feathers), (2) Escape pipes instead of rejecting them, (3) Use different delimiter (tab, multichar), (4) Length-prefixed fields, or (5) Multi-line format. Evaluate trade-offs vs simplicity/human-readable principles. (pain count: 1)
32|open|Consider using clap or similar for CLI argument parsing|Manual arg parsing works for now but will get complex as we add flags. Consider using clap crate for proper CLI parsing with help text, validation, etc. Defer until manual parsing becomes truly painful - YAGNI applies. (pain count: 1)
33|open|Evaluate migrating from pipe-delimited to JSON Lines format|Current pipe format has limitations: (1) Can't use pipe character in text - pain count 1, (2) Can't support multi-line descriptions - pain count 0 but likely needed for formatted notes/code blocks/lists, (3) Manual escaping complexity. JSON Lines (one JSON object per line) would solve these while maintaining git-friendly one-line-per-task diffs. Trade-offs: larger file size (3x), needs serde dependency, less manually editable, more syntax noise. Defer until multi-line descriptions become painful or pipe-in-text hits pain count 3.
34|open|Support multi-line descriptions in tasks|Currently descriptions are single-line due to pipe-delimited format that reads line-by-line. Multi-line descriptions would be useful for: formatted notes, code examples, bullet lists, detailed explanations. This likely requires format change (JSON Lines?) or escaping newlines. Related to task-33. (pain count: 0)
35|open|Add 'show' command to display full task details including description|Need a way to view the complete task information, especially the description field. Something like 'knecht show task-27' that displays id, status, title, and description. This would help when tasks have detailed instructions in their descriptions. (pain count: 0 - not sure we need it yet, tracking for now)
36|open|Print task description when starting work on a task|When an agent or user begins work on a task, the description should be displayed as a prompt/guide for the work. This could be triggered by a 'knecht start task-N' command, or possibly automatically when referencing a task. Descriptions should function as work instructions/context. (pain count: 1 - just experienced this when you had to manually grep for task-27's description)
37|open|Add commit reminder to 'knecht done' output|When 'knecht done task-N' completes, add a reminder message like: 'Next steps: Review changes with git status/diff, then commit with: git add -A && git commit -m "task-N: Description"'. This reinforces the workflow and reminds agents/users to commit their work. (pain count: 1 - would have been helpful as a reminder throughout this session)

