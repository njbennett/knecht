146,open,Add command logging and pattern detection to identify confusion,"Problem: knecht can't detect when agents are confused unless they use invalid commands. Many confusion signals happen outside knecht (using grep, read_file, trying things multiple times). Solution: Add command logging to .knecht/history or .knecht/log. Log: timestamp, command, args, success/failure, working directory. Then detect patterns that indicate confusion: (1) Same command tried multiple times with different args, (2) Rapid sequence of list/show/grep commands, (3) Failed commands followed by workarounds, (4) Commands that suggest missing features (like trying non-existent flags). Surface these patterns in reflection prompt: 'You tried X three times - what were you trying to accomplish?' This gives knecht visibility into agent behavior over time, not just single command invocations. Related to task-144 (catching confusion), task-145 (better reflection), task-111 (agents bypassing knecht).",,
